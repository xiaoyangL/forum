<!--base.html-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CNode：Node.js专业中文社区</title>
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
    {% block link %}{% endblock %}
    <head>
<body>

<!-- navbar -->
<div class='navbar'>
    <div class='navbar-inner'>
        <div class='container'>
            <ul class='nav pull-right'>
                <li><a href="{{ url_for('index.index') }}">首页</a></li>
                <li><a href="{{ url_for('user.profile') }}">个人主页</a></li>
                <li><a href="{{ url_for('mail.index') }}">私信</a></li>
                <li><a href="{{ url_for('setting.setting_view') }}">设置</a></li>
                <li><a href="{{ url_for('user.register_view') }}">注册</a></li>
                <li><a href="{{ url_for('user.login_view') }}">登录</a></li>
            </ul>
            <a class="btn btn-navbar" id="responsive-sidebar-trigger">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
        </div>
    </div>
</div>

{% block main%}
<div id="main">

     <div id="sidebar">
        {% block sidebar %}
            {% if user.id == -1 %}
                <div class="panel">
                <div class="inner"><p>CNode：Node.js专业中文社区</p>
                    <div>
                        您可以
                        <a href="{{ url_for('user.login_view') }}">登录</a>
                        或
                        <a href="{{ url_for('user.register_view') }}">注册</a>
                    </div>
                </div>
            </div>
            {% else %}
                <div class="panel">
                    <div class="header">
                        <span class="col_fade">个人信息</span>
                    </div>
                    <div class="inner">
                        <div class="user_card">
                            <div>
                                <a class="user_avatar" href="{{url_for('user.profile', id=user.id)}}">
                                    <img src="{{ user.image }}" title="{{ user.username }}">
                                </a>
                                <span class="user_name">
                                    <a class="dark" href="{{url_for('user.profile', id=user.id)}}">{{ user.username }}</a>
                                </span>
                                <div class="board clearfix">
                                </div>
                                <div class="space clearfix"></div>
                                <span class="signature">
                                    {{ user.signature }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel">
                    <div class="inner">
                    <a href="{{ url_for('topic.new') }}" class="create_topic_btn">
                        <span class="span-success">发布话题</span>
                    </a>
                </div>
                </div>
            {% endif %}
        {% endblock %}
     </div>

     <div id="content">
        {% block panel %}
        {% endblock %}
     </div>

</div>
{% endblock %}


{% block footer %}
<div id="footer" class="fix-bottom">
    <div id="footer_main">
        <div class="links">
            <a class="dark" href="">RSS</a>
            |
            <a class="dark" href="https://github.com/cnodejs/nodeclub/">源码地址</a>
        </div>
        <div class="col_fade">

            <p>CNode 社区为国内最专业的 Node.js 开源技术社区，致力于 Node.js 的技术研究。</p>
            <p>服务器赞助商为
                <a href="http://www.ucloud.cn/?utm_source=zanzhu&amp;utm_campaign=cnodejs&amp;utm_medium=display&amp;utm_content=yejiao&amp;ytag=cnodejs_logo"
                   target="_blank" class="sponsor_outlink" data-label="ucloud_bottom">
                    <img src="https://dn-cnode.qbox.me/FuIpEaM9bvsZKnQ3QfPtBHWQmLM9" title="ucloud" alt="ucloud"
                         width="92px">
                </a>
                ，存储赞助商为
                <a href="http://www.qiniu.com/?ref=cnode" target="_blank" class="sponsor_outlink"
                   data-label="qiniu_bottom">
                    <img src="https://dn-cnode.qbox.me/Fg0jtDIcTqVC049oVu5-sn6Om4NX" title="七牛云存储" alt="七牛云存储"
                         width="115px">
                </a>
                ，由<a href="https://www.aliyun.com/product/nodejs?ref=cnode" target="_blank" class="sponsor_outlink"
                     data-label="alinode_bottom">
                    <img src="https://dn-cnode.qbox.me/FpMZk31PDyxkC8yStmMQL4XroaGD" title="alinode" alt="alinode"
                         height="54px" width="166px">
                </a>提供应用性能服务。
            </p>
            <p>新手搭建 Node.js 服务器，推荐使用无需备案的 <a href="https://www.digitalocean.com/?refcode=eba02656eeb3">DigitalOcean(https://www.digitalocean.com/)</a>
            </p>
        </div>
    </div>
</div>
{% endblock %}
</body>

{% block script %} {% endblock %}